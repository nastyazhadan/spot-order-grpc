syntax = "proto3";

package chat;

option go_package = "zhadan.chat.v1;chatv1";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";


service ChatService {
  rpc Create (CreateRequest) returns (CreateResponse);
  rpc Delete (DeleteRequest) returns (google.protobuf.Empty);
  rpc SendMessage (SendMessageRequest) returns (google.protobuf.Empty);
}

message CreateRequest {
  repeated string usernames = 1; // List of the usernames to add
}

message CreateResponse {
  string id = 1; // UUID of the created chat
}

message DeleteRequest {
  string id = 1; // Chat UUID to delete
}

message SendMessageRequest{
  string chat_id = 1; // UUID of the chat to send message to
  string from = 2; // From whom need to send message to
  string text = 3; // Text of the message
  google.protobuf.Timestamp timestamp = 4; // Timestamp of the message
}
